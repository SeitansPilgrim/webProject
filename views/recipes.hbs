<div class="col-12 text-center">
	<h1>Recipes</h1>
</div>


{{#if session.isLoggedIn}}

<div class="col-12 text-center my-2">
	<button class="btn btn-primary">
		<a class="text-secondary" href="/recipes/create">Create new recipe</a>
	</button>
</div>

{{/if}}


<div class="columns">

	{{#if hasDatabaseError}}
	<p>Could not fetch the recipes at the moment, try again later.</p>

	{{else}}
	{{#if Recipe.length}}
	{{#each Recipe}}
	<div class="column col-1"></div>
	<div class="column col-4 my-2 py-2">

		<a class="text-dark" href="/recipes/{{recipeID}}">
			<h4 class="text-center">{{name}}</h4>
		</a>

		<img src="/{{image}}" width="100%">

		<span class="label label-rounded label-secondary text-dark">{{cookingTime}}</span>
		<span class="label label-rounded label-secondary text-dark">{{mainIngredient}}</span>
		<span class="label label-rounded label-secondary text-dark">{{mealType}}</span>

		{{#if ../session.isLoggedIn}}
		<div class="text-center py-1">

			<a class="text-success mx-2 px-2" href="/recipes/{{recipeID}}/update">
				<i class="icon icon-edit"></i>
			</a>

			<a class="text-error mx-2 px-2" class="text-dark" href="/recipes/{{recipeID}}/delete">
				<i class="icon icon-delete"></i>
			</a>

		</div>
		{{/if}}

	</div>
	<div class="column col-1"></div>
	{{/each}}

	{{else}}

	<div class="column col-12 text-center">
		<h3 class="text-center">There are no recipes available.</h3>
	</div>

	{{/if}}
	{{/if}}

</div>

<div class="columns my-2">
	<div class="column col-1"></div>

	<div class="column col-10">
		<ul class="pagination">

			{{#if previousPage}}
			<li class="page-item page-prev">
				<a class="text-dark" href="/recipes/?page={{previousPage}}">
					<div class="page-item-title h5">Previous</div>
				</a>
			</li>
			{{/if}}

			{{#if morePages}}
			<li class="page-item page-next">
				<a class="text-dark" href="/recipes/?page={{nextPage}}">
					<div class="page-item-title h5">Next</div>
				</a>
			</li>
			{{/if}}

		</ul>
	</div>

	<div class="column col-1"></div>
</div>